{% extends 'base.html' %}


{% block title %}FMB World Tour Ranking 2023 | RideFMB{% endblock %}
{% block head %}
    {% load wiki_extras %}
    {% load static %}
    <style>
        #main-container {
            max-width: 960px;
        }
        #rider-ranking {background-color: transparent;}
        #rider-ranking:hover {background-color: #4e545c;}
        #rider-link {
            color: white;
            text-decoration: none;
        }
        #rider-points {
            color: #272c32;
            background-color: #727af7;
            padding: 4px;
        }
        .ranking-link {
            color: #727af7;
            text-decoration: none;
            padding-top: 10px;
            padding-left: 10px;
            padding-right: 10px;
        }
        .disabled-link {
            color: lightgrey;
            pointer-events: none;
        }
        #dropdownMenuLink {
            color: #727af7;
            padding: 5px 5px 0px 0px;
        }
        #dropdown-navigation {
            height: auto;
            max-height: 200px;
            max-width: 50px;
            overflow-x: hidden;
        }
    </style>
{% endblock %}

{% block content %}
    <div class="container-lg" id="main-container">
        <h1 class="d-none d-sm-block">FMB World Tour Ranking 2023</h1>
        <h1 class="d-sm-none">FMB Ranking 2023</h1>
        <ul class="list-group list-group-table rounded-4" style="background-color: #272c32;">
            <li class="list-group-item" style="background-color: #4e545c;">
                <div class="row align-items-center text-white">
                    <div class="col-1 text-center">
                        Rank
                    </div>
                    <div class="col-2">

                    </div>
                    <div class="col">
                        Name
                    </div>
                    <div class="col-3 d-none d-sm-block">
                        Sponsor
                    </div>
                    <div class="col-2 text-center">
                        Points
                    </div>
                </div>
            </li>
        {% for rider in riders %}
            <li class="list-group-item" id="rider-ranking">
                <div class="row align-items-center text-white">
                    <div class="col-1 d-flex justify-content-center">
                        <br>
                        <h6>{{rider.rank}}</h6>
                        <br>
                    </div>
                    <div class="col-2 py-1 d-none d-md-block ">
                        <img src="{{rider.photo}}" class="rounded-circle border border-3 border-white" width="90" height="90">
                    </div>
                    <div class="col-2 d-none d-sm-block d-md-none">
                        <img src="{{rider.photo}}" class="d-md-none rounded-circle border border-2 border-white" width="70" height="70">
                    </div>
                    <div class="col-2 d-sm-none ">
                        <img src="{{rider.photo}}" class="d-md-none rounded-circle border border-2 border-white" width="50" height="50">
                    </div>
                    <div class="col">
                        <h6 style="margin: 0;"><a class="stretched-link" id="rider-link" href="{% url 'wiki:rider' rider.id rider.slug %}">{{rider.name}}</a></h6>
                        <small>{{rider.nationality}}</small>
                    </div>
                    <div class="col-3 d-none d-sm-block">
                        <h6>{{rider.mainsponsor}}</h6>
                    </div>
                    <div class="col-2 d-flex justify-content-center">
                        <br>
                        <h6 id="rider-points" class="rounded-2">{{rider.points}}</h6>
                        <br>
                    </div>
                </div>
            </li>
        {% endfor %}
        </ul>
        <div class="row" id="ranking-navigation">
        {% with previous_index=page_index|sub:1 %}
            <div class="col-5 text-end">
            {% if previous_index > 0 %}
                <h2><a class="ranking-link" href="{% url 'wiki:ranking' previous_index %}"><<</a></h2>
            {% else %}
                <h2><a class="ranking-link disabled-link"><<</a></h2>
             {% endif %}
            </div>
        {% endwith %}
            <div class="col-2">
                <div class="dropdown text-center" style="margin-left: -5px;">
                      <a class="btn dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
                        PAGE
                      </a>
                      <ul class="dropdown-menu dropdown-menu-center" id="dropdown-navigation" aria-labelledby="dropdownMenuLink">
                      {% for i in 30|times %}
                          <li><a class="dropdown-item" href="{% url 'wiki:ranking' i %}">{{i}}</a></li>
                      {% endfor %}
                  </ul>
                </div>
            </div>
        {% with next_index=page_index|add:1 %}
            <div class="col-5 text-start">
            {% if next_index < 31 %}
                <h2><a class="ranking-link" href="{% url 'wiki:ranking' next_index %}">>></a></h2>
            {% else %}
                <h2><a class="ranking-link disabled-link disabled">>></a></h2>
            {% endif %}
            </div>
        </div>
        {% endwith %}
    </div>
{% endblock %}